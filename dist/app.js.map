{"version":3,"sources":["webpack:///app.js","webpack:///webpack/bootstrap 7a9cc65ed0cc96581e23","webpack:///./src/hacker-news.tsx","webpack:///./node_modules/apprun/dist/apprun.js","webpack:///./src/api.ts","webpack:///external \"firebase\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","pluralize","number","label","timeAgo","time","between","Date","now","Number","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","__assign","assign","t","arguments","length","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","verb","v","op","f","TypeError","_","y","ops","pop","trys","push","g","sent","throw","return","Symbol","iterator","apprun_1","api_1","default","on","root","page_size","HackerNewsComponent","_super","_this","state","type","Loading","createElement","className","Comment","_a","comment","by","text","Comments","item","kids","list","num","filter","items","deleted","dead","map","Item","href","url","title","score","descendants","onclick","history","back","ListItem","idx","item_link","id","List","min","max","indexOf","run","view","_list","_item","key","style","font-weight","float","margin-right","update","#","#hacker-news","args","_i","showItem","showList","more","Math","fetchListItems","pageno","new_state","_b","_c","_d","replaceState","console","log","fetchList","parseInt","pages","ceil","isNaN","fetchItem","Component","document","addEventListener","target","matches","classList","toggle","nextElementSibling","element","getElementById","start","r","a","render","global_event","mount","u","window","app","_events","debug","fn","options","assert","delay","once","_t","clearTimeout","setTimeout","App","Reflect","defineMetadata","action","meta","WeakMap","has","set","getMetadataKeys","getPrototypeOf","keys","getMetadata","firstChild","appendChild","nodeName","tag","toUpperCase","parentNode","replaceChild","childNodes","children","textContent","nodeType","props","h","removeChild","lastChild","createDocumentFragment","insertAdjacentHTML","substring","createTextNode","JSON","stringify","createElementNS","forEach","cssText","isArray","updateElement","_app","_history","_history_idx","renderState","_component","rendered","setState","catch","error","enable_history","concat","callback","prev","add_actions","model","is_global_event","startsWith","add_action","split","trim","route","onpopstate","location","hash","slice","fetch","path","ref","db","child","snapshot","val","all","Firebase","initializeApp","databaseURL","database","firebase"],"mappings":"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","file":"app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(1);\r\nvar api_1 = __webpack_require__(2);\r\napprun_1.default.on('//', function (_) { });\r\napprun_1.default.on('#', function (_) { });\r\nvar root = '#hacker-news';\r\nvar page_size = 30;\r\nvar HackerNewsComponent = /** @class */ (function (_super) {\r\n    __extends(HackerNewsComponent, _super);\r\n    function HackerNewsComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            type: 'top',\r\n        };\r\n        _this.Loading = function () { return apprun_1.default.createElement(\"div\", { className: 'loading' }, \"Loading ... \"); };\r\n        _this.Comment = function (_a) {\r\n            var comment = _a.comment;\r\n            if (!comment)\r\n                return;\r\n            return apprun_1.default.createElement(\"li\", { className: 'comment' },\r\n                apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        \"by \",\r\n                        comment.by),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        timeAgo(comment.time),\r\n                        \" ago\")),\r\n                apprun_1.default.createElement(\"div\", { className: 'text' }, \"_html:\" + comment.text),\r\n                apprun_1.default.createElement(_this.Comments, { item: comment }));\r\n        };\r\n        _this.Comments = function (_a) {\r\n            var item = _a.item;\r\n            if (!item || !item.kids)\r\n                return;\r\n            var list = item.kids;\r\n            var num = item.kids && item.kids.filter(function (items) { return !item.deleted && !item.dead; }).length;\r\n            return apprun_1.default.createElement(\"div\", null,\r\n                num && apprun_1.default.createElement(\"div\", { className: 'toggle' },\r\n                    pluralize(num, ' comment'),\r\n                    \" \"),\r\n                apprun_1.default.createElement(\"ul\", { className: 'comment-list' },\r\n                    \" \",\r\n                    list.filter(function (item) { return !item.deleted; })\r\n                        .map(function (item) { return apprun_1.default.createElement(_this.Comment, { comment: item }); })));\r\n        };\r\n        _this.Item = function (_a) {\r\n            var item = _a.item;\r\n            if (!item)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: 'story' },\r\n                apprun_1.default.createElement(\"h4\", null,\r\n                    apprun_1.default.createElement(\"a\", { href: item.url }, item.title)),\r\n                (item.text) && apprun_1.default.createElement(\"div\", { className: 'text' }, \"_html:\" + item.text),\r\n                apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n                    apprun_1.default.createElement(\"span\", null, pluralize(item.score, ' point')),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        \"by \",\r\n                        item.by),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        timeAgo(item.time),\r\n                        \" ago\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        pluralize(item.descendants, ' comment'),\r\n                        \" (in total)  |\\u00A0\"),\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        apprun_1.default.createElement(\"a\", { onclick: function () { return history.back(); } }, \"back\"))));\r\n        };\r\n        _this.ListItem = function (_a) {\r\n            var item = _a.item, idx = _a.idx;\r\n            if (!item)\r\n                return;\r\n            var item_link = root + \"/item/\" + item.id;\r\n            return apprun_1.default.createElement(\"li\", null,\r\n                apprun_1.default.createElement(\"div\", { className: 'score' }, item.score),\r\n                apprun_1.default.createElement(\"div\", null,\r\n                    apprun_1.default.createElement(\"a\", { href: item.url || item_link }, item.title)),\r\n                apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        \"by \",\r\n                        item.by),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        timeAgo(item.time),\r\n                        \" ago\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        apprun_1.default.createElement(\"a\", { href: \"\" + item_link }, pluralize(item.descendants, ' comment')))));\r\n        };\r\n        _this.List = function (_a) {\r\n            var list = _a.list;\r\n            if (!list)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", null,\r\n                apprun_1.default.createElement(\"ul\", { className: 'story-list' },\r\n                    \" \",\r\n                    list.items.filter(function (_, i) { return i >= list.min && i < list.max; })\r\n                        .map(function (item) { return apprun_1.default.createElement(_this.ListItem, { item: item, idx: list.items.indexOf(item) + 1 }); })),\r\n                apprun_1.default.createElement(\"div\", { className: 'more' },\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        list.min + 1,\r\n                        \" - \",\r\n                        list.max,\r\n                        \" (\",\r\n                        list.items.length,\r\n                        \") \\u00A0\"),\r\n                    list.items && list.max < list.items.length && apprun_1.default.createElement(\"a\", { onclick: function () { return _this.run('more'); } }, \" |\\u00A0 More ...\")));\r\n        };\r\n        _this.view = function (state) {\r\n            var _list, _item;\r\n            if (state instanceof Promise) {\r\n                // extra = <this.Loading />\r\n                return;\r\n            }\r\n            else if (state.type === 'item') {\r\n                var item = state[state.key];\r\n                _item = apprun_1.default.createElement(_this.Item, { item: item });\r\n                _list = apprun_1.default.createElement(_this.Comments, { item: item });\r\n            }\r\n            else {\r\n                var list = state[state.type];\r\n                _list = apprun_1.default.createElement(_this.List, { list: list });\r\n            }\r\n            var style = function (type) {\r\n                return { 'font-weight': type === state.type ? 'bold' : 'normal' };\r\n            };\r\n            return apprun_1.default.createElement(\"div\", { className: \"hn \" + state.type },\r\n                apprun_1.default.createElement(\"div\", { className: 'header' },\r\n                    apprun_1.default.createElement(\"div\", { className: 'inner' },\r\n                        apprun_1.default.createElement(\"div\", { style: { 'float': 'left' } },\r\n                            apprun_1.default.createElement(\"span\", { style: { 'margin-right': '20px' } },\r\n                                apprun_1.default.createElement(\"a\", { href: 'https://github.com/yysun/apprun' }, \"AppRun\"),\r\n                                \" \\u2764\\u00A0\",\r\n                                apprun_1.default.createElement(\"a\", { href: 'https://news.ycombinator.com' }, \"HN\")),\r\n                            apprun_1.default.createElement(\"a\", { style: style('top'), href: root + \"/top\" }, \"Top\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('new'), href: root + \"/new\" }, \"New\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('best'), href: root + \"/best\" }, \"Best\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('show'), href: root + \"/show\" }, \"Show\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('ask'), href: root + \"/ask\" }, \"Ask\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('job'), href: root + \"/job\" }, \"Jobs\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: '', href: 'https://github.com/yysun/apprun-hn' }, \"Github\")))),\r\n                apprun_1.default.createElement(\"div\", { className: 'inner' },\r\n                    _item,\r\n                    _list));\r\n        };\r\n        _this.update = {\r\n            '#': function (_) { return apprun_1.default.run(root); },\r\n            '#hacker-news': function (state, type) {\r\n                var args = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    args[_i - 2] = arguments[_i];\r\n                }\r\n                return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        type = type || state.type;\r\n                        return [2 /*return*/, type === 'item' ?\r\n                                this.showItem(state, args[0]) :\r\n                                this.showList(state, type, args[0])];\r\n                    });\r\n                });\r\n            },\r\n            'more': function (state) { return __awaiter(_this, void 0, void 0, function () {\r\n                var list;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            list = state[state.type];\r\n                            if (!(list && list.items)) return [3 /*break*/, 2];\r\n                            list.max = Math.min(list.max + page_size, list.items.length);\r\n                            return [4 /*yield*/, api_1.fetchListItems(state[state.type])];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/, state];\r\n                    }\r\n                });\r\n            }); }\r\n        };\r\n        _this.showList = function (state, type, pageno) { return __awaiter(_this, void 0, void 0, function () {\r\n            var new_state, _a, _b, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        if (!type || !pageno) {\r\n                            type = type || state.type || 'top';\r\n                            pageno = pageno || (state[type] && state[type].pageno) || 1;\r\n                            history.replaceState(null, null, root + \"/\" + type);\r\n                        }\r\n                        new_state = __assign({}, state, { type: type });\r\n                        if (!!new_state[type]) return [3 /*break*/, 2];\r\n                        console.log(\"fetch: \" + type);\r\n                        _a = new_state;\r\n                        _b = type;\r\n                        _c = {};\r\n                        return [4 /*yield*/, api_1.fetchList(type)];\r\n                    case 1:\r\n                        _a[_b] = (_c.items = _d.sent(),\r\n                            _c.min = 0,\r\n                            _c.max = page_size,\r\n                            _c);\r\n                        _d.label = 2;\r\n                    case 2:\r\n                        pageno = parseInt(pageno) || 1;\r\n                        new_state[type] = __assign({}, new_state[type], { \r\n                            // min: (pageno - 1) * page_size,\r\n                            // max: pageno * page_size,\r\n                            pageno: pageno, pages: Math.ceil(new_state[type].items.length / page_size) });\r\n                        return [4 /*yield*/, api_1.fetchListItems(new_state[type])];\r\n                    case 3:\r\n                        _d.sent();\r\n                        return [2 /*return*/, new_state];\r\n                }\r\n            });\r\n        }); };\r\n        _this.showItem = function (state, id) { return __awaiter(_this, void 0, void 0, function () {\r\n            var key, new_state, _a, _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        if (!id || isNaN(parseInt(id))) {\r\n                            id = state.key;\r\n                            history.replaceState(null, null, root + \"/item/\" + id);\r\n                        }\r\n                        key = \"\" + id;\r\n                        new_state = __assign({}, state, { type: 'item', key: key });\r\n                        if (!!new_state[key]) return [3 /*break*/, 2];\r\n                        console.log(\"fetch: \" + key);\r\n                        _a = new_state;\r\n                        _b = key;\r\n                        return [4 /*yield*/, api_1.fetchItem(id)];\r\n                    case 1:\r\n                        _a[_b] = _c.sent();\r\n                        _c.label = 2;\r\n                    case 2: return [2 /*return*/, new_state];\r\n                }\r\n            });\r\n        }); };\r\n        return _this;\r\n    }\r\n    return HackerNewsComponent;\r\n}(apprun_1.Component));\r\nexports.default = HackerNewsComponent;\r\ndocument.body.addEventListener('click', function (e) {\r\n    var t = e.target;\r\n    if (t.matches('.toggle')) {\r\n        t.classList.toggle('closed');\r\n        t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n    }\r\n});\r\nfunction pluralize(number, label) {\r\n    if (!number)\r\n        number = 0;\r\n    return (number === 1) ? number + label : number + label + 's';\r\n}\r\nfunction timeAgo(time) {\r\n    var between = Date.now() / 1000 - Number(time);\r\n    if (between < 3600) {\r\n        return pluralize(~~(between / 60), ' minute');\r\n    }\r\n    else if (between < 86400) {\r\n        return pluralize(~~(between / 3600), ' hour');\r\n    }\r\n    else {\r\n        return pluralize(~~(between / 86400), ' day');\r\n    }\r\n}\r\nvar element = document.getElementById('my-app');\r\nnew HackerNewsComponent().start(element);\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=n(8),i=n(10);e.Component=i.Component;var a=n(11),s=n(4);e.on=s.on,e.update=s.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return s.mount(t,a),s};var u=r.default;\"object\"==typeof window&&(window.app&&window.app.start?u=window.app:(window.app=u,document.addEventListener(\"DOMContentLoaded\",function(){return new a.default}))),e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),n.debug&&console.log(\"on: \"+t),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):(i.debug&&console.log(\"run: \"+t,n),o.apply(e,n)),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log(\"run-delay \"+r.delay+\":\"+t,n),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},,,function(t,e,n){\"use strict\";function r(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,action:[i.value,n]},r),i}}function o(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:r},n)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=r,e.on=o},,function(t,e,n){\"use strict\";function r(t,e){f=0,e&&t&&(t.firstChild?i(t.firstChild,e):t.appendChild(s(e)))}function o(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}function i(t,e){if(console.assert(!!t),!o(t,e))return void t.parentNode.replaceChild(s(e),t);for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var u=e.children[r],d=t.childNodes[r];if(\"string\"==typeof u)d.textContent!==u&&(3===d.nodeType?d.textContent=u:t.replaceChild(a(u),d));else{var l=u.props&&u.props.key;if(l)if(d.key===l)i(t.childNodes[r],u);else{var f=l&&h[l];f?(t.replaceChild(f,d),t.appendChild(d),i(t.childNodes[r],u)):(t.appendChild(s(e),d),i(t.childNodes[r],u))}else i(t.childNodes[r],u)}}for(var p=t.childNodes.length;p>n;)t.removeChild(t.lastChild),p--;if(e.children.length>n){for(var y=document.createDocumentFragment(),r=n;r<e.children.length;r++)y.appendChild(s(e.children[r]));t.appendChild(y)}c(t,e.props)}function a(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function s(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return a(t);if(!t.tag)return a(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return c(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(s(t))}),e}function u(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}function c(t,e){console.assert(!!t);var n=t[l]||{};e=u(n,e),t[l]=e;for(var r in e){var o=e[r];if(n[r]!==o)if(\"style\"===r){t.style.cssText&&(t.style.cssText=\"\");for(var i in o)t.style[i]!==o[i]&&(t.style[i]=o[i])}else t[r]!==o&&(t[r]=o),\"key\"===r&&o&&(h[o]=t)}}Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(9),l=\"_props\";e.createElement=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=function(t){null!==t&&void 0!==t&&\"\"!==t&&o.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};if(n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}),\"string\"==typeof t)return{tag:t,props:e,children:o};if(Object.getPrototypeOf(t).name){var a=e&&e.id||\"_\"+t.name+\"_\"+ ++f;return d.default(t,a,e)}return t(e,o)};var f=0,h={};e.updateElement=r,e.render=r,e.default={createElement:e.createElement,updateElement:e.updateElement}},,function(t,e,n){\"use strict\";function r(t,e){console.assert(!!t),o.updateElement(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6);e.createElement=o.createElement,e.render=r},function(t,e,n){\"use strict\";function r(t,e,n){var r=i[e]?i[e]:i[e]=new t(n).mount(e);return o.default.createElement(\"div\",{id:e},r.render&&r.render())}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i={};e.default=r},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i=n(4),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))},this.render=function(){return a.view(a.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t),n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},o=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(e.history.prev||\"history-prev\",r),this.on(e.history.next||\"history-next\",o)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(void 0,[r.state].concat(t));r.setState(i,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(e)):(r=this._app).run.apply(r,[t].concat(e));var r},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,[\"//\",n].concat(o))}else r.default.run(t),r.default.run(\"//\",t)},t}();e.default=o}])});\n//# sourceMappingURL=apprun.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Firebase = __webpack_require__(3);\r\nFirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nvar db = Firebase.database().ref('/v0');\r\nfunction fetch(path) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var ref;\r\n        return __generator(this, function (_a) {\r\n            ref = db.child(path);\r\n            return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                    ref.once('value', function (snapshot) { return resolve(snapshot.val()); }, reject);\r\n                })];\r\n        });\r\n    });\r\n}\r\nexports.fetch = fetch;\r\nfunction fetchList(type) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, fetch(type + \"stories\")];\r\n        });\r\n    });\r\n}\r\nexports.fetchList = fetchList;\r\nfunction fetchListItems(list) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _this = this;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    _a = list;\r\n                    return [4 /*yield*/, Promise.all(list.items.map(function (item, idx) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _a;\r\n                            return __generator(this, function (_b) {\r\n                                switch (_b.label) {\r\n                                    case 0:\r\n                                        if (!(idx >= list.min && idx < list.max && (typeof item === 'number'))) return [3 /*break*/, 2];\r\n                                        return [4 /*yield*/, fetch(\"item/\" + item)];\r\n                                    case 1:\r\n                                        _a = _b.sent();\r\n                                        return [3 /*break*/, 3];\r\n                                    case 2:\r\n                                        _a = item;\r\n                                        _b.label = 3;\r\n                                    case 3: return [2 /*return*/, _a];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 1:\r\n                    _a.items = _b.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.fetchListItems = fetchListItems;\r\nfunction fetchItem(id) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _this = this;\r\n        var item, _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0: return [4 /*yield*/, fetch(\"item/\" + id)];\r\n                case 1:\r\n                    item = _b.sent();\r\n                    if (!(item && item.kids)) return [3 /*break*/, 3];\r\n                    _a = item;\r\n                    return [4 /*yield*/, Promise.all(item.kids.map(function (item) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _a;\r\n                            return __generator(this, function (_b) {\r\n                                switch (_b.label) {\r\n                                    case 0:\r\n                                        if (!(typeof item === 'number')) return [3 /*break*/, 2];\r\n                                        return [4 /*yield*/, fetchItem(item)];\r\n                                    case 1:\r\n                                        _a = _b.sent();\r\n                                        return [3 /*break*/, 3];\r\n                                    case 2:\r\n                                        _a = item;\r\n                                        _b.label = 3;\r\n                                    case 3: return [2 /*return*/, _a];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 2:\r\n                    _a.kids = _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2 /*return*/, item];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.fetchItem = fetchItem;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = firebase;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7a9cc65ed0cc96581e23","import app, { Component } from 'apprun';\r\nimport { fetchList, fetchListItems, fetchItem } from './api';\r\n\r\napp.on('//', _ => { });\r\napp.on('#', _ => { });\r\n\r\nconst root = '#hacker-news';\r\nconst page_size = 30;\r\n\r\nexport default class HackerNewsComponent extends Component {\r\n\r\n  state = {\r\n    type: 'top',\r\n  };\r\n\r\n  Loading = () => <div className='loading'>Loading ... </div>;\r\n\r\n  Comment = ({ comment }) => {\r\n    if (!comment) return;\r\n    return <li className='comment'>\r\n      <div className='meta'>\r\n        <span>by {comment.by}</span> |&nbsp;\r\n        <span>{timeAgo(comment.time)} ago</span>\r\n      </div>\r\n      <div className='text'>{`_html:${comment.text}`}</div>\r\n      <this.Comments item={comment} />\r\n    </li>\r\n  }\r\n\r\n  Comments = ({ item }) => {\r\n    if (!item || !item.kids) return;\r\n    const list = item.kids;\r\n    const num = item.kids && item.kids.filter(items => !item.deleted && !item.dead).length;\r\n    return <div>\r\n      {num && <div className='toggle'>{pluralize(num, ' comment')} </div>}\r\n      <ul className='comment-list'> {\r\n        list.filter(item => !item.deleted)\r\n          .map(item => <this.Comment comment={item} />)\r\n      }\r\n      </ul>\r\n    </div>;\r\n  }\r\n\r\n  Item = ({ item }) => {\r\n    if (!item) return;\r\n    return <div className='story'>\r\n      <h4><a href={item.url}>{item.title}</a></h4>\r\n      {(item.text) && <div className='text'>{`_html:${item.text}`}</div>}\r\n      <div className='meta'>\r\n        <span>{pluralize(item.score, ' point')}</span> |&nbsp;\r\n        <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span>{pluralize(item.descendants, ' comment')} (in total)  |&nbsp;</span>\r\n        <span><a onclick={() => history.back()}>back</a></span>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  ListItem = ({ item, idx }) => {\r\n    if (!item) return;\r\n    const item_link = `${root}/item/${item.id}`;\r\n    return <li>\r\n      <div className={'score'}>{item.score}</div>\r\n      <div><a href={item.url || item_link}>{item.title}</a></div>\r\n      <div className='meta'>\r\n        <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span><a href={`${item_link}`} >{pluralize(item.descendants, ' comment')}</a></span>\r\n      </div>\r\n    </li>\r\n  }\r\n\r\n  List = ({ list }) => {\r\n    if (!list) return;\r\n    return <div>\r\n      <ul className='story-list'> {\r\n        list.items.filter((_, i) => i >= list.min && i < list.max)\r\n          .map(item => <this.ListItem item={item} idx={list.items.indexOf(item) + 1} />)\r\n      }\r\n      </ul>\r\n      <div className='more'>\r\n        <span>{list.min + 1} - {list.max} ({list.items.length}) &nbsp;</span>\r\n        {list.items && list.max < list.items.length && <a onclick={() => this.run('more')}> |&nbsp; More ...</a>}\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n  view = (state) => {\r\n    let _list, _item\r\n    if (state instanceof Promise) {\r\n      // extra = <this.Loading />\r\n      return\r\n    } else if (state.type === 'item') {\r\n      const item = state[state.key];\r\n      _item = <this.Item item={item} />\r\n      _list = <this.Comments item={item} />\r\n    } else {\r\n      const list = state[state.type];\r\n      _list = <this.List list={list} />\r\n    }\r\n    const style = (type) => {\r\n      return { 'font-weight': type === state.type ? 'bold' : 'normal' }\r\n    }\r\n    return <div className={`hn ${state.type}`}>\r\n      <div className='header'>\r\n        <div className='inner'>\r\n          <div style={{ 'float': 'left' }}>\r\n            <span style={{ 'margin-right': '20px' }}>\r\n              <a href='https://github.com/yysun/apprun'>AppRun</a> &#10084;&nbsp;\r\n              <a href='https://news.ycombinator.com'>HN</a></span>\r\n              <a style={style('top')} href={`${root}/top`}>Top</a> |&nbsp;\r\n              <a style={style('new')} href={`${root}/new`}>New</a> |&nbsp;\r\n              <a style={style('best')} href={`${root}/best`}>Best</a> |&nbsp;\r\n              <a style={style('show')} href={`${root}/show`}>Show</a> |&nbsp;\r\n              <a style={style('ask')} href={`${root}/ask`}>Ask</a> |&nbsp;\r\n              <a style={style('job')} href={`${root}/job`}>Jobs</a> |&nbsp;\r\n              <a style='' href='https://github.com/yysun/apprun-hn'>Github</a>\r\n          </div>\r\n          {/*<div style={{ 'float': 'right' }}><a href='https://github.com/yysun/apprun-hn'>Github</a></div>*/}\r\n        </div>\r\n      </div>\r\n      <div className='inner'>\r\n        {_item}\r\n        {_list}\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#': _ => app.run(root),\r\n    '#hacker-news': async (state, type, ...args) => {\r\n      type = type || state.type\r\n      return type === 'item' ?\r\n        this.showItem(state, args[0]) :\r\n        this.showList(state, type, args[0])\r\n    },\r\n    'more': async (state) => {\r\n      const list = state[state.type];\r\n      if (list && list.items) {\r\n        list.max = Math.min(list.max + page_size, list.items.length)\r\n        await fetchListItems(state[state.type]);\r\n      }\r\n      return state;\r\n    }\r\n  }\r\n\r\n  showList = async (state, type?, pageno?) => {\r\n    if (!type || !pageno) {\r\n      type = type || state.type || 'top';\r\n      pageno = pageno || (state[type] && state[type].pageno) || 1;\r\n      history.replaceState(null, null, `${root}/${type}`);\r\n    }\r\n    const new_state = { ...state, type };\r\n    if (!new_state[type]) {\r\n      console.log(`fetch: ${type}`);\r\n      new_state[type] = {\r\n        items: await fetchList(type),\r\n        min: 0,\r\n        max: page_size\r\n      }\r\n    }\r\n\r\n    pageno = parseInt(pageno) || 1;\r\n    new_state[type] = {\r\n      ...new_state[type],\r\n      // min: (pageno - 1) * page_size,\r\n      // max: pageno * page_size,\r\n      pageno,\r\n      pages: Math.ceil(new_state[type].items.length / page_size)\r\n    }\r\n\r\n    await fetchListItems(new_state[type]);\r\n    return new_state;\r\n  }\r\n\r\n  showItem = async (state, id) => {\r\n    if (!id || isNaN(parseInt(id))) {\r\n      id = state.key;\r\n      history.replaceState(null, null, `${root}/item/${id}`);\r\n    }\r\n    const key = `${id}`;\r\n    const new_state = { ...state, type: 'item', key };\r\n    if (!new_state[key]) {\r\n      console.log(`fetch: ${key}`);\r\n      new_state[key] = await fetchItem(id);\r\n    }\r\n    return new_state;\r\n  }\r\n\r\n}\r\n\r\ndocument.body.addEventListener('click', e => {\r\n  const t = e.target as HTMLElement;\r\n  if (t.matches('.toggle')) {\r\n    t.classList.toggle('closed');\r\n    t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n  }\r\n});\r\n\r\nfunction pluralize(number, label) {\r\n  if (!number) number = 0;\r\n  return (number === 1) ? number + label : number + label + 's'\r\n}\r\n\r\nfunction timeAgo(time) {\r\n  const between = Date.now() / 1000 - Number(time)\r\n  if (between < 3600) {\r\n    return pluralize(~~(between / 60), ' minute')\r\n  } else if (between < 86400) {\r\n    return pluralize(~~(between / 3600), ' hour')\r\n  } else {\r\n    return pluralize(~~(between / 86400), ' day')\r\n  }\r\n}\r\n\r\nconst element = document.getElementById('my-app');\r\nnew HackerNewsComponent().start(element);\n\n\n// WEBPACK FOOTER //\n// ./src/hacker-news.tsx","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=n(8),i=n(10);e.Component=i.Component;var a=n(11),s=n(4);e.on=s.on,e.update=s.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return s.mount(t,a),s};var u=r.default;\"object\"==typeof window&&(window.app&&window.app.start?u=window.app:(window.app=u,document.addEventListener(\"DOMContentLoaded\",function(){return new a.default}))),e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),n.debug&&console.log(\"on: \"+t),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):(i.debug&&console.log(\"run: \"+t,n),o.apply(e,n)),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log(\"run-delay \"+r.delay+\":\"+t,n),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},,,function(t,e,n){\"use strict\";function r(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,action:[i.value,n]},r),i}}function o(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:r},n)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=r,e.on=o},,function(t,e,n){\"use strict\";function r(t,e){f=0,e&&t&&(t.firstChild?i(t.firstChild,e):t.appendChild(s(e)))}function o(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}function i(t,e){if(console.assert(!!t),!o(t,e))return void t.parentNode.replaceChild(s(e),t);for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var u=e.children[r],d=t.childNodes[r];if(\"string\"==typeof u)d.textContent!==u&&(3===d.nodeType?d.textContent=u:t.replaceChild(a(u),d));else{var l=u.props&&u.props.key;if(l)if(d.key===l)i(t.childNodes[r],u);else{var f=l&&h[l];f?(t.replaceChild(f,d),t.appendChild(d),i(t.childNodes[r],u)):(t.appendChild(s(e),d),i(t.childNodes[r],u))}else i(t.childNodes[r],u)}}for(var p=t.childNodes.length;p>n;)t.removeChild(t.lastChild),p--;if(e.children.length>n){for(var y=document.createDocumentFragment(),r=n;r<e.children.length;r++)y.appendChild(s(e.children[r]));t.appendChild(y)}c(t,e.props)}function a(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function s(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return a(t);if(!t.tag)return a(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return c(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(s(t))}),e}function u(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}function c(t,e){console.assert(!!t);var n=t[l]||{};e=u(n,e),t[l]=e;for(var r in e){var o=e[r];if(n[r]!==o)if(\"style\"===r){t.style.cssText&&(t.style.cssText=\"\");for(var i in o)t.style[i]!==o[i]&&(t.style[i]=o[i])}else t[r]!==o&&(t[r]=o),\"key\"===r&&o&&(h[o]=t)}}Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(9),l=\"_props\";e.createElement=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=function(t){null!==t&&void 0!==t&&\"\"!==t&&o.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};if(n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}),\"string\"==typeof t)return{tag:t,props:e,children:o};if(Object.getPrototypeOf(t).name){var a=e&&e.id||\"_\"+t.name+\"_\"+ ++f;return d.default(t,a,e)}return t(e,o)};var f=0,h={};e.updateElement=r,e.render=r,e.default={createElement:e.createElement,updateElement:e.updateElement}},,function(t,e,n){\"use strict\";function r(t,e){console.assert(!!t),o.updateElement(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6);e.createElement=o.createElement,e.render=r},function(t,e,n){\"use strict\";function r(t,e,n){var r=i[e]?i[e]:i[e]=new t(n).mount(e);return o.default.createElement(\"div\",{id:e},r.render&&r.render())}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i={};e.default=r},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i=n(4),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))},this.render=function(){return a.view(a.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t),n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},o=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(e.history.prev||\"history-prev\",r),this.on(e.history.next||\"history-next\",o)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(void 0,[r.state].concat(t));r.setState(i,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(e)):(r=this._app).run.apply(r,[t].concat(e));var r},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,[\"//\",n].concat(o))}else r.default.run(t),r.default.run(\"//\",t)},t}();e.default=o}])});\n//# sourceMappingURL=apprun.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/apprun/dist/apprun.js\n// module id = 1\n// module chunks = 0","import Firebase = require('firebase');\r\n\r\nFirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nconst db = Firebase.database().ref('/v0');\r\n\r\nexport async function fetch(path): Promise<any> {\r\n  const ref = db.child(path);\r\n  return new Promise((resolve, reject) => {\r\n    ref.once('value', snapshot => resolve(snapshot.val()), reject);\r\n  })\r\n}\r\n\r\nexport async function fetchList(type): Promise<any> {\r\n  return fetch(`${type}stories`);\r\n}\r\n\r\nexport async function fetchListItems(list): Promise<any> {\r\n  list.items = await Promise.all(list.items.map(async (item, idx) => {\r\n    return (idx >= list.min && idx < list.max && (typeof item === 'number')) ?\r\n      await fetch(`item/${item}`) : item\r\n  }));\r\n}\r\n\r\nexport async function fetchItem(id): Promise<any> {\r\n  const item = await fetch(`item/${id}`);\r\n  if (item && item.kids) item.kids = await Promise.all(item.kids.map(async (item) => {\r\n    return typeof item === 'number' ?\r\n      await fetchItem(item) : item\r\n  }));\r\n  return item;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api.ts","module.exports = firebase;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"firebase\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}