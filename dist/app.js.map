{"version":3,"sources":["webpack:///app.js","webpack:///webpack/bootstrap 6dffa66baf64bc3ced1e","webpack:///./src/hacker-news.tsx","webpack:///./node_modules/apprun/dist/apprun.js","webpack:///./src/api.ts","webpack:///external \"firebase\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","pluralize","number","label","timeAgo","time","between","Date","now","Number","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","__assign","assign","t","arguments","length","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","verb","v","op","f","TypeError","_","y","ops","pop","trys","push","g","sent","throw","return","Symbol","iterator","apprun_1","api_1","default","on","root","page_size","HackerNewsComponent","_super","_this","state","type","Loading","createElement","className","Comment","_a","comment","by","text","Comments","item","kids","list","num","filter","items","deleted","dead","map","Item","href","url","title","score","descendants","onclick","history","back","ListItem","idx","item_link","id","List","min","max","indexOf","run","view","_list","_item","key","style","font-weight","float","margin-right","text-align","update","#","#hacker-news","args","_i","showItem","showList","more","Math","fetchListItems","pageno","new_state","_b","_c","_d","replaceState","console","log","fetchList","parseInt","pages","ceil","isNaN","fetchItem","Component","document","addEventListener","target","matches","classList","toggle","nextElementSibling","element","getElementById","start","r","a","render","global_event","mount","u","window","app","_events","debug","fn","options","assert","delay","once","_t","clearTimeout","setTimeout","App","Reflect","defineMetadata","action","meta","WeakMap","has","set","getMetadataKeys","getPrototypeOf","keys","getMetadata","firstChild","appendChild","nodeName","tag","toUpperCase","parentNode","replaceChild","childNodes","children","textContent","nodeType","props","h","removeChild","lastChild","createDocumentFragment","insertAdjacentHTML","substring","createTextNode","JSON","stringify","createElementNS","forEach","cssText","isArray","updateElement","_app","_history","_history_idx","renderState","_component","rendered","setState","catch","error","enable_history","concat","callback","prev","add_actions","model","is_global_event","startsWith","add_action","split","trim","route","onpopstate","location","hash","slice","fetch","path","ref","db","child","snapshot","val","all","Firebase","initializeApp","databaseURL","database","firebase"],"mappings":"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","file":"app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(1);\r\nvar api_1 = __webpack_require__(2);\r\napprun_1.default.on('//', function (_) { });\r\napprun_1.default.on('#', function (_) { });\r\nvar root = '#hacker-news';\r\nvar page_size = 30;\r\nvar HackerNewsComponent = /** @class */ (function (_super) {\r\n    __extends(HackerNewsComponent, _super);\r\n    function HackerNewsComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            type: 'top',\r\n        };\r\n        _this.Loading = function () { return apprun_1.default.createElement(\"div\", { className: 'loading' }, \"Loading ... \"); };\r\n        _this.Comment = function (_a) {\r\n            var comment = _a.comment;\r\n            if (!comment)\r\n                return;\r\n            return apprun_1.default.createElement(\"li\", { className: 'comment' },\r\n                apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        \"by \",\r\n                        comment.by),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        timeAgo(comment.time),\r\n                        \" ago\")),\r\n                apprun_1.default.createElement(\"div\", { className: 'text' }, \"_html:\" + comment.text),\r\n                apprun_1.default.createElement(_this.Comments, { item: comment }));\r\n        };\r\n        _this.Comments = function (_a) {\r\n            var item = _a.item;\r\n            if (!item || !item.kids)\r\n                return;\r\n            var list = item.kids;\r\n            var num = item.kids && item.kids.filter(function (items) { return !item.deleted && !item.dead; }).length;\r\n            return apprun_1.default.createElement(\"div\", null,\r\n                num && apprun_1.default.createElement(\"div\", { className: 'toggle' },\r\n                    pluralize(num, ' comment'),\r\n                    \" \"),\r\n                apprun_1.default.createElement(\"ul\", { className: 'comment-list' },\r\n                    \" \",\r\n                    list.filter(function (item) { return !item.deleted; })\r\n                        .map(function (item) { return apprun_1.default.createElement(_this.Comment, { comment: item }); })));\r\n        };\r\n        _this.Item = function (_a) {\r\n            var item = _a.item;\r\n            if (!item)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: 'story' },\r\n                apprun_1.default.createElement(\"h4\", null,\r\n                    apprun_1.default.createElement(\"a\", { href: item.url }, item.title)),\r\n                (item.text) && apprun_1.default.createElement(\"div\", { className: 'text' }, \"_html:\" + item.text),\r\n                apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n                    apprun_1.default.createElement(\"span\", null, pluralize(item.score, ' point')),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        \"by \",\r\n                        item.by),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        timeAgo(item.time),\r\n                        \" ago\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        pluralize(item.descendants, ' comment'),\r\n                        \" (in total)  |\\u00A0\"),\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        apprun_1.default.createElement(\"a\", { onclick: function () { return history.back(); } }, \"back\"))));\r\n        };\r\n        _this.ListItem = function (_a) {\r\n            var item = _a.item, idx = _a.idx;\r\n            if (!item)\r\n                return;\r\n            var item_link = root + \"/item/\" + item.id;\r\n            return apprun_1.default.createElement(\"li\", null,\r\n                apprun_1.default.createElement(\"div\", { className: 'score' }, item.score),\r\n                apprun_1.default.createElement(\"div\", null,\r\n                    apprun_1.default.createElement(\"a\", { href: item.url || item_link }, item.title)),\r\n                apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        \"by \",\r\n                        item.by),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        timeAgo(item.time),\r\n                        \" ago\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        apprun_1.default.createElement(\"a\", { href: \"\" + item_link }, pluralize(item.descendants, ' comment')))));\r\n        };\r\n        _this.List = function (_a) {\r\n            var list = _a.list;\r\n            if (!list)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", null,\r\n                apprun_1.default.createElement(\"ul\", { className: 'story-list' },\r\n                    \" \",\r\n                    list.items.filter(function (_, i) { return i >= list.min && i < list.max; })\r\n                        .map(function (item) { return apprun_1.default.createElement(_this.ListItem, { item: item, idx: list.items.indexOf(item) + 1 }); })),\r\n                apprun_1.default.createElement(\"div\", { className: 'more' },\r\n                    apprun_1.default.createElement(\"span\", null,\r\n                        list.min + 1,\r\n                        \" - \",\r\n                        list.max,\r\n                        \" (\",\r\n                        list.items.length,\r\n                        \") \\u00A0\"),\r\n                    list.items && list.max < list.items.length && apprun_1.default.createElement(\"a\", { onclick: function () { return _this.run('more'); } }, \" |\\u00A0 More ...\")));\r\n        };\r\n        _this.view = function (state) {\r\n            var _list, _item;\r\n            if (state instanceof Promise) {\r\n                // extra = <this.Loading />\r\n                return;\r\n            }\r\n            else if (state.type === 'item') {\r\n                var item = state[state.key];\r\n                _item = apprun_1.default.createElement(_this.Item, { item: item });\r\n                _list = apprun_1.default.createElement(_this.Comments, { item: item });\r\n            }\r\n            else {\r\n                var list = state[state.type];\r\n                _list = apprun_1.default.createElement(_this.List, { list: list });\r\n            }\r\n            var style = function (type) {\r\n                return { 'font-weight': type === state.type ? 'bold' : 'normal' };\r\n            };\r\n            return apprun_1.default.createElement(\"div\", { className: \"hn \" + state.type },\r\n                apprun_1.default.createElement(\"div\", { className: 'header' },\r\n                    apprun_1.default.createElement(\"div\", { className: 'inner' },\r\n                        apprun_1.default.createElement(\"div\", { style: { 'float': 'left' } },\r\n                            apprun_1.default.createElement(\"span\", { style: { 'margin-right': '20px' } },\r\n                                apprun_1.default.createElement(\"a\", { href: 'https://github.com/yysun/apprun' }, \"AppRun\"),\r\n                                \" \\u2764\\u00A0\",\r\n                                apprun_1.default.createElement(\"a\", { href: 'https://news.ycombinator.com' }, \"HN\")),\r\n                            apprun_1.default.createElement(\"a\", { style: style('top'), href: root + \"/top\" }, \"Top\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('new'), href: root + \"/new\" }, \"New\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('best'), href: root + \"/best\" }, \"Best\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('show'), href: root + \"/show\" }, \"Show\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('ask'), href: root + \"/ask\" }, \"Ask\"),\r\n                            \" |\\u00A0\",\r\n                            apprun_1.default.createElement(\"a\", { style: style('job'), href: root + \"/job\" }, \"Jobs\")))),\r\n                apprun_1.default.createElement(\"div\", { className: 'inner' },\r\n                    _item,\r\n                    _list,\r\n                    apprun_1.default.createElement(\"div\", { style: { 'text-align': 'right' } },\r\n                        apprun_1.default.createElement(\"br\", null),\r\n                        apprun_1.default.createElement(\"br\", null),\r\n                        \" \",\r\n                        apprun_1.default.createElement(\"hr\", null),\r\n                        \"(C) Yiyi Sun, 2017-2018, \",\r\n                        apprun_1.default.createElement(\"a\", { style: '', href: 'https://github.com/yysun/apprun-hn' }, \"Source code: Github\"))));\r\n        };\r\n        _this.update = {\r\n            '#': function (_) { return apprun_1.default.run(root); },\r\n            '#hacker-news': function (state, type) {\r\n                var args = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    args[_i - 2] = arguments[_i];\r\n                }\r\n                return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        type = type || state.type;\r\n                        return [2 /*return*/, type === 'item' ?\r\n                                this.showItem(state, args[0]) :\r\n                                this.showList(state, type, args[0])];\r\n                    });\r\n                });\r\n            },\r\n            'more': function (state) { return __awaiter(_this, void 0, void 0, function () {\r\n                var list;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            list = state[state.type];\r\n                            if (!(list && list.items)) return [3 /*break*/, 2];\r\n                            list.max = Math.min(list.max + page_size, list.items.length);\r\n                            return [4 /*yield*/, api_1.fetchListItems(state[state.type])];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/, state];\r\n                    }\r\n                });\r\n            }); }\r\n        };\r\n        _this.showList = function (state, type, pageno) { return __awaiter(_this, void 0, void 0, function () {\r\n            var new_state, _a, _b, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        if (!type || !pageno) {\r\n                            type = type || state.type || 'top';\r\n                            pageno = pageno || (state[type] && state[type].pageno) || 1;\r\n                            history.replaceState(null, null, root + \"/\" + type);\r\n                        }\r\n                        new_state = __assign({}, state, { type: type });\r\n                        if (!!new_state[type]) return [3 /*break*/, 2];\r\n                        console.log(\"fetch: \" + type);\r\n                        _a = new_state;\r\n                        _b = type;\r\n                        _c = {};\r\n                        return [4 /*yield*/, api_1.fetchList(type)];\r\n                    case 1:\r\n                        _a[_b] = (_c.items = _d.sent(),\r\n                            _c.min = 0,\r\n                            _c.max = page_size,\r\n                            _c);\r\n                        _d.label = 2;\r\n                    case 2:\r\n                        pageno = parseInt(pageno) || 1;\r\n                        new_state[type] = __assign({}, new_state[type], { \r\n                            // min: (pageno - 1) * page_size,\r\n                            // max: pageno * page_size,\r\n                            pageno: pageno, pages: Math.ceil(new_state[type].items.length / page_size) });\r\n                        return [4 /*yield*/, api_1.fetchListItems(new_state[type])];\r\n                    case 3:\r\n                        _d.sent();\r\n                        return [2 /*return*/, new_state];\r\n                }\r\n            });\r\n        }); };\r\n        _this.showItem = function (state, id) { return __awaiter(_this, void 0, void 0, function () {\r\n            var key, new_state, _a, _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        if (!id || isNaN(parseInt(id))) {\r\n                            id = state.key;\r\n                            history.replaceState(null, null, root + \"/item/\" + id);\r\n                        }\r\n                        key = \"\" + id;\r\n                        new_state = __assign({}, state, { type: 'item', key: key });\r\n                        if (!!new_state[key]) return [3 /*break*/, 2];\r\n                        console.log(\"fetch: \" + key);\r\n                        _a = new_state;\r\n                        _b = key;\r\n                        return [4 /*yield*/, api_1.fetchItem(id)];\r\n                    case 1:\r\n                        _a[_b] = _c.sent();\r\n                        _c.label = 2;\r\n                    case 2: return [2 /*return*/, new_state];\r\n                }\r\n            });\r\n        }); };\r\n        return _this;\r\n    }\r\n    return HackerNewsComponent;\r\n}(apprun_1.Component));\r\nexports.default = HackerNewsComponent;\r\ndocument.body.addEventListener('click', function (e) {\r\n    var t = e.target;\r\n    if (t.matches('.toggle')) {\r\n        t.classList.toggle('closed');\r\n        t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n    }\r\n});\r\nfunction pluralize(number, label) {\r\n    if (!number)\r\n        number = 0;\r\n    return (number === 1) ? number + label : number + label + 's';\r\n}\r\nfunction timeAgo(time) {\r\n    var between = Date.now() / 1000 - Number(time);\r\n    if (between < 3600) {\r\n        return pluralize(~~(between / 60), ' minute');\r\n    }\r\n    else if (between < 86400) {\r\n        return pluralize(~~(between / 3600), ' hour');\r\n    }\r\n    else {\r\n        return pluralize(~~(between / 86400), ' day');\r\n    }\r\n}\r\nvar element = document.getElementById('my-app');\r\nnew HackerNewsComponent().start(element);\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=n(8),i=n(10);e.Component=i.Component;var a=n(11),s=n(4);e.on=s.on,e.update=s.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return s.mount(t,a),s};var u=r.default;\"object\"==typeof window&&(window.app&&window.app.start?u=window.app:(window.app=u,document.addEventListener(\"DOMContentLoaded\",function(){return new a.default}))),e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),n.debug&&console.log(\"on: \"+t),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):(i.debug&&console.log(\"run: \"+t,n),o.apply(e,n)),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log(\"run-delay \"+r.delay+\":\"+t,n),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},,,function(t,e,n){\"use strict\";function r(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,action:[i.value,n]},r),i}}function o(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:r},n)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=r,e.on=o},,function(t,e,n){\"use strict\";function r(t,e){f=0,e&&t&&(t.firstChild?i(t.firstChild,e):t.appendChild(s(e)))}function o(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}function i(t,e){if(console.assert(!!t),!o(t,e))return void t.parentNode.replaceChild(s(e),t);for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var u=e.children[r],d=t.childNodes[r];if(\"string\"==typeof u)d.textContent!==u&&(3===d.nodeType?d.textContent=u:t.replaceChild(a(u),d));else{var l=u.props&&u.props.key;if(l)if(d.key===l)i(t.childNodes[r],u);else{var f=l&&h[l];f?(t.replaceChild(f,d),t.appendChild(d),i(t.childNodes[r],u)):(t.appendChild(s(e),d),i(t.childNodes[r],u))}else i(t.childNodes[r],u)}}for(var p=t.childNodes.length;p>n;)t.removeChild(t.lastChild),p--;if(e.children.length>n){for(var y=document.createDocumentFragment(),r=n;r<e.children.length;r++)y.appendChild(s(e.children[r]));t.appendChild(y)}c(t,e.props)}function a(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function s(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return a(t);if(!t.tag)return a(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return c(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(s(t))}),e}function u(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}function c(t,e){console.assert(!!t);var n=t[l]||{};e=u(n,e),t[l]=e;for(var r in e){var o=e[r];if(n[r]!==o)if(\"style\"===r){t.style.cssText&&(t.style.cssText=\"\");for(var i in o)t.style[i]!==o[i]&&(t.style[i]=o[i])}else t[r]!==o&&(t[r]=o),\"key\"===r&&o&&(h[o]=t)}}Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(9),l=\"_props\";e.createElement=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=function(t){null!==t&&void 0!==t&&\"\"!==t&&o.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};if(n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}),\"string\"==typeof t)return{tag:t,props:e,children:o};if(Object.getPrototypeOf(t).name){var a=e&&e.id||\"_\"+t.name+\"_\"+ ++f;return d.default(t,a,e)}return t(e,o)};var f=0,h={};e.updateElement=r,e.render=r,e.default={createElement:e.createElement,updateElement:e.updateElement}},,function(t,e,n){\"use strict\";function r(t,e){console.assert(!!t),o.updateElement(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6);e.createElement=o.createElement,e.render=r},function(t,e,n){\"use strict\";function r(t,e,n){var r=i[e]?i[e]:i[e]=new t(n).mount(e);return o.default.createElement(\"div\",{id:e},r.render&&r.render())}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i={};e.default=r},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i=n(4),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))},this.render=function(){return a.view(a.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t),n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},o=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(e.history.prev||\"history-prev\",r),this.on(e.history.next||\"history-next\",o)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(void 0,[r.state].concat(t));r.setState(i,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(e)):(r=this._app).run.apply(r,[t].concat(e));var r},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,[\"//\",n].concat(o))}else r.default.run(t),r.default.run(\"//\",t)},t}();e.default=o}])});\n//# sourceMappingURL=apprun.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Firebase = __webpack_require__(3);\r\nFirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nvar db = Firebase.database().ref('/v0');\r\nfunction fetch(path) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var ref;\r\n        return __generator(this, function (_a) {\r\n            ref = db.child(path);\r\n            return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                    ref.once('value', function (snapshot) { return resolve(snapshot.val()); }, reject);\r\n                })];\r\n        });\r\n    });\r\n}\r\nexports.fetch = fetch;\r\nfunction fetchList(type) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, fetch(type + \"stories\")];\r\n        });\r\n    });\r\n}\r\nexports.fetchList = fetchList;\r\nfunction fetchListItems(list) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _this = this;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    _a = list;\r\n                    return [4 /*yield*/, Promise.all(list.items.map(function (item, idx) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _a;\r\n                            return __generator(this, function (_b) {\r\n                                switch (_b.label) {\r\n                                    case 0:\r\n                                        if (!(idx >= list.min && idx < list.max && (typeof item === 'number'))) return [3 /*break*/, 2];\r\n                                        return [4 /*yield*/, fetch(\"item/\" + item)];\r\n                                    case 1:\r\n                                        _a = _b.sent();\r\n                                        return [3 /*break*/, 3];\r\n                                    case 2:\r\n                                        _a = item;\r\n                                        _b.label = 3;\r\n                                    case 3: return [2 /*return*/, _a];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 1:\r\n                    _a.items = _b.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.fetchListItems = fetchListItems;\r\nfunction fetchItem(id) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _this = this;\r\n        var item, _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0: return [4 /*yield*/, fetch(\"item/\" + id)];\r\n                case 1:\r\n                    item = _b.sent();\r\n                    if (!(item && item.kids)) return [3 /*break*/, 3];\r\n                    _a = item;\r\n                    return [4 /*yield*/, Promise.all(item.kids.map(function (item) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _a;\r\n                            return __generator(this, function (_b) {\r\n                                switch (_b.label) {\r\n                                    case 0:\r\n                                        if (!(typeof item === 'number')) return [3 /*break*/, 2];\r\n                                        return [4 /*yield*/, fetchItem(item)];\r\n                                    case 1:\r\n                                        _a = _b.sent();\r\n                                        return [3 /*break*/, 3];\r\n                                    case 2:\r\n                                        _a = item;\r\n                                        _b.label = 3;\r\n                                    case 3: return [2 /*return*/, _a];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 2:\r\n                    _a.kids = _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2 /*return*/, item];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.fetchItem = fetchItem;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = firebase;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6dffa66baf64bc3ced1e","import app, { Component } from 'apprun';\r\nimport { fetchList, fetchListItems, fetchItem } from './api';\r\n\r\napp.on('//', _ => { });\r\napp.on('#', _ => { });\r\n\r\nconst root = '#hacker-news';\r\nconst page_size = 30;\r\n\r\nexport default class HackerNewsComponent extends Component {\r\n\r\n  state = {\r\n    type: 'top',\r\n  };\r\n\r\n  Loading = () => <div className='loading'>Loading ... </div>;\r\n\r\n  Comment = ({ comment }) => {\r\n    if (!comment) return;\r\n    return <li className='comment'>\r\n      <div className='meta'>\r\n        <span>by {comment.by}</span> |&nbsp;\r\n        <span>{timeAgo(comment.time)} ago</span>\r\n      </div>\r\n      <div className='text'>{`_html:${comment.text}`}</div>\r\n      <this.Comments item={comment} />\r\n    </li>\r\n  }\r\n\r\n  Comments = ({ item }) => {\r\n    if (!item || !item.kids) return;\r\n    const list = item.kids;\r\n    const num = item.kids && item.kids.filter(items => !item.deleted && !item.dead).length;\r\n    return <div>\r\n      {num && <div className='toggle'>{pluralize(num, ' comment')} </div>}\r\n      <ul className='comment-list'> {\r\n        list.filter(item => !item.deleted)\r\n          .map(item => <this.Comment comment={item} />)\r\n      }\r\n      </ul>\r\n    </div>;\r\n  }\r\n\r\n  Item = ({ item }) => {\r\n    if (!item) return;\r\n    return <div className='story'>\r\n      <h4><a href={item.url}>{item.title}</a></h4>\r\n      {(item.text) && <div className='text'>{`_html:${item.text}`}</div>}\r\n      <div className='meta'>\r\n        <span>{pluralize(item.score, ' point')}</span> |&nbsp;\r\n        <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span>{pluralize(item.descendants, ' comment')} (in total)  |&nbsp;</span>\r\n        <span><a onclick={() => history.back()}>back</a></span>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  ListItem = ({ item, idx }) => {\r\n    if (!item) return;\r\n    const item_link = `${root}/item/${item.id}`;\r\n    return <li>\r\n      <div className={'score'}>{item.score}</div>\r\n      <div><a href={item.url || item_link}>{item.title}</a></div>\r\n      <div className='meta'>\r\n        <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span><a href={`${item_link}`} >{pluralize(item.descendants, ' comment')}</a></span>\r\n      </div>\r\n    </li>\r\n  }\r\n\r\n  List = ({ list }) => {\r\n    if (!list) return;\r\n    return <div>\r\n      <ul className='story-list'> {\r\n        list.items.filter((_, i) => i >= list.min && i < list.max)\r\n          .map(item => <this.ListItem item={item} idx={list.items.indexOf(item) + 1} />)\r\n      }\r\n      </ul>\r\n      <div className='more'>\r\n        <span>{list.min + 1} - {list.max} ({list.items.length}) &nbsp;</span>\r\n        {list.items && list.max < list.items.length && <a onclick={() => this.run('more')}> |&nbsp; More ...</a>}\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n  view = (state) => {\r\n    let _list, _item\r\n    if (state instanceof Promise) {\r\n      // extra = <this.Loading />\r\n      return\r\n    } else if (state.type === 'item') {\r\n      const item = state[state.key];\r\n      _item = <this.Item item={item} />\r\n      _list = <this.Comments item={item} />\r\n    } else {\r\n      const list = state[state.type];\r\n      _list = <this.List list={list} />\r\n    }\r\n    const style = (type) => {\r\n      return { 'font-weight': type === state.type ? 'bold' : 'normal' }\r\n    }\r\n    return <div className={`hn ${state.type}`}>\r\n      <div className='header'>\r\n        <div className='inner'>\r\n          <div style={{ 'float': 'left' }}>\r\n            <span style={{ 'margin-right': '20px' }}>\r\n              <a href='https://github.com/yysun/apprun'>AppRun</a> &#10084;&nbsp;\r\n              <a href='https://news.ycombinator.com'>HN</a></span>\r\n              <a style={style('top')} href={`${root}/top`}>Top</a> |&nbsp;\r\n              <a style={style('new')} href={`${root}/new`}>New</a> |&nbsp;\r\n              <a style={style('best')} href={`${root}/best`}>Best</a> |&nbsp;\r\n              <a style={style('show')} href={`${root}/show`}>Show</a> |&nbsp;\r\n              <a style={style('ask')} href={`${root}/ask`}>Ask</a> |&nbsp;\r\n              <a style={style('job')} href={`${root}/job`}>Jobs</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='inner'>\r\n        {_item}\r\n        {_list}\r\n        <div style={{ 'text-align': 'right' }}>\r\n          <br /><br /> <hr />\r\n          (C) Yiyi Sun, 2017-2018, <a style='' href='https://github.com/yysun/apprun-hn'>Source code: Github</a>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#': _ => app.run(root),\r\n    '#hacker-news': async (state, type, ...args) => {\r\n      type = type || state.type\r\n      return type === 'item' ?\r\n        this.showItem(state, args[0]) :\r\n        this.showList(state, type, args[0])\r\n    },\r\n    'more': async (state) => {\r\n      const list = state[state.type];\r\n      if (list && list.items) {\r\n        list.max = Math.min(list.max + page_size, list.items.length)\r\n        await fetchListItems(state[state.type]);\r\n      }\r\n      return state;\r\n    }\r\n  }\r\n\r\n  showList = async (state, type?, pageno?) => {\r\n    if (!type || !pageno) {\r\n      type = type || state.type || 'top';\r\n      pageno = pageno || (state[type] && state[type].pageno) || 1;\r\n      history.replaceState(null, null, `${root}/${type}`);\r\n    }\r\n    const new_state = { ...state, type };\r\n    if (!new_state[type]) {\r\n      console.log(`fetch: ${type}`);\r\n      new_state[type] = {\r\n        items: await fetchList(type),\r\n        min: 0,\r\n        max: page_size\r\n      }\r\n    }\r\n\r\n    pageno = parseInt(pageno) || 1;\r\n    new_state[type] = {\r\n      ...new_state[type],\r\n      // min: (pageno - 1) * page_size,\r\n      // max: pageno * page_size,\r\n      pageno,\r\n      pages: Math.ceil(new_state[type].items.length / page_size)\r\n    }\r\n\r\n    await fetchListItems(new_state[type]);\r\n    return new_state;\r\n  }\r\n\r\n  showItem = async (state, id) => {\r\n    if (!id || isNaN(parseInt(id))) {\r\n      id = state.key;\r\n      history.replaceState(null, null, `${root}/item/${id}`);\r\n    }\r\n    const key = `${id}`;\r\n    const new_state = { ...state, type: 'item', key };\r\n    if (!new_state[key]) {\r\n      console.log(`fetch: ${key}`);\r\n      new_state[key] = await fetchItem(id);\r\n    }\r\n    return new_state;\r\n  }\r\n\r\n}\r\n\r\ndocument.body.addEventListener('click', e => {\r\n  const t = e.target as HTMLElement;\r\n  if (t.matches('.toggle')) {\r\n    t.classList.toggle('closed');\r\n    t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n  }\r\n});\r\n\r\nfunction pluralize(number, label) {\r\n  if (!number) number = 0;\r\n  return (number === 1) ? number + label : number + label + 's'\r\n}\r\n\r\nfunction timeAgo(time) {\r\n  const between = Date.now() / 1000 - Number(time)\r\n  if (between < 3600) {\r\n    return pluralize(~~(between / 60), ' minute')\r\n  } else if (between < 86400) {\r\n    return pluralize(~~(between / 3600), ' hour')\r\n  } else {\r\n    return pluralize(~~(between / 86400), ' day')\r\n  }\r\n}\r\n\r\nconst element = document.getElementById('my-app');\r\nnew HackerNewsComponent().start(element);\n\n\n// WEBPACK FOOTER //\n// ./src/hacker-news.tsx","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=n(8),i=n(10);e.Component=i.Component;var a=n(11),s=n(4);e.on=s.on,e.update=s.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return s.mount(t,a),s};var u=r.default;\"object\"==typeof window&&(window.app&&window.app.start?u=window.app:(window.app=u,document.addEventListener(\"DOMContentLoaded\",function(){return new a.default}))),e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),n.debug&&console.log(\"on: \"+t),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):(i.debug&&console.log(\"run: \"+t,n),o.apply(e,n)),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log(\"run-delay \"+r.delay+\":\"+t,n),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},,,function(t,e,n){\"use strict\";function r(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,action:[i.value,n]},r),i}}function o(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:r},n)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=r,e.on=o},,function(t,e,n){\"use strict\";function r(t,e){f=0,e&&t&&(t.firstChild?i(t.firstChild,e):t.appendChild(s(e)))}function o(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}function i(t,e){if(console.assert(!!t),!o(t,e))return void t.parentNode.replaceChild(s(e),t);for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var u=e.children[r],d=t.childNodes[r];if(\"string\"==typeof u)d.textContent!==u&&(3===d.nodeType?d.textContent=u:t.replaceChild(a(u),d));else{var l=u.props&&u.props.key;if(l)if(d.key===l)i(t.childNodes[r],u);else{var f=l&&h[l];f?(t.replaceChild(f,d),t.appendChild(d),i(t.childNodes[r],u)):(t.appendChild(s(e),d),i(t.childNodes[r],u))}else i(t.childNodes[r],u)}}for(var p=t.childNodes.length;p>n;)t.removeChild(t.lastChild),p--;if(e.children.length>n){for(var y=document.createDocumentFragment(),r=n;r<e.children.length;r++)y.appendChild(s(e.children[r]));t.appendChild(y)}c(t,e.props)}function a(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function s(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return a(t);if(!t.tag)return a(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return c(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(s(t))}),e}function u(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}function c(t,e){console.assert(!!t);var n=t[l]||{};e=u(n,e),t[l]=e;for(var r in e){var o=e[r];if(n[r]!==o)if(\"style\"===r){t.style.cssText&&(t.style.cssText=\"\");for(var i in o)t.style[i]!==o[i]&&(t.style[i]=o[i])}else t[r]!==o&&(t[r]=o),\"key\"===r&&o&&(h[o]=t)}}Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(9),l=\"_props\";e.createElement=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=function(t){null!==t&&void 0!==t&&\"\"!==t&&o.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};if(n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}),\"string\"==typeof t)return{tag:t,props:e,children:o};if(Object.getPrototypeOf(t).name){var a=e&&e.id||\"_\"+t.name+\"_\"+ ++f;return d.default(t,a,e)}return t(e,o)};var f=0,h={};e.updateElement=r,e.render=r,e.default={createElement:e.createElement,updateElement:e.updateElement}},,function(t,e,n){\"use strict\";function r(t,e){console.assert(!!t),o.updateElement(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6);e.createElement=o.createElement,e.render=r},function(t,e,n){\"use strict\";function r(t,e,n){var r=i[e]?i[e]:i[e]=new t(n).mount(e);return o.default.createElement(\"div\",{id:e},r.render&&r.render())}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i={};e.default=r},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),i=n(4),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))},this.render=function(){return a.view(a.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t),n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},o=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(e.history.prev||\"history-prev\",r),this.on(e.history.next||\"history-next\",o)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(void 0,[r.state].concat(t));r.setState(i,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(e)):(r=this._app).run.apply(r,[t].concat(e));var r},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,[\"//\",n].concat(o))}else r.default.run(t),r.default.run(\"//\",t)},t}();e.default=o}])});\n//# sourceMappingURL=apprun.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/apprun/dist/apprun.js\n// module id = 1\n// module chunks = 0","import Firebase = require('firebase');\r\n\r\nFirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nconst db = Firebase.database().ref('/v0');\r\n\r\nexport async function fetch(path): Promise<any> {\r\n  const ref = db.child(path);\r\n  return new Promise((resolve, reject) => {\r\n    ref.once('value', snapshot => resolve(snapshot.val()), reject);\r\n  })\r\n}\r\n\r\nexport async function fetchList(type): Promise<any> {\r\n  return fetch(`${type}stories`);\r\n}\r\n\r\nexport async function fetchListItems(list): Promise<any> {\r\n  list.items = await Promise.all(list.items.map(async (item, idx) => {\r\n    return (idx >= list.min && idx < list.max && (typeof item === 'number')) ?\r\n      await fetch(`item/${item}`) : item\r\n  }));\r\n}\r\n\r\nexport async function fetchItem(id): Promise<any> {\r\n  const item = await fetch(`item/${id}`);\r\n  if (item && item.kids) item.kids = await Promise.all(item.kids.map(async (item) => {\r\n    return typeof item === 'number' ?\r\n      await fetchItem(item) : item\r\n  }));\r\n  return item;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api.ts","module.exports = firebase;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"firebase\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}