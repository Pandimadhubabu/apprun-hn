{"version":3,"sources":["webpack:///dist/app.js","webpack:///webpack/bootstrap 3ea64020ac0aca98ad3f","webpack:///./node_modules/apprun/dist/apprun.js","webpack:///./src/hacker-news.tsx","webpack:///./src/api.ts","webpack:///external \"firebase\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","t","e","this","r","value","default","_events","on","push","fn","options","run","arguments","length","console","assert","filter","delay","apply","once","_t","clearTimeout","setTimeout","App","Component","a","update","event","createElement","render","Fragment","start","assign","global_event","rendered","mount","u","window","app","document","addEventListener","Reflect","meta","WeakMap","defineMetadata","has","set","getMetadataKeys","getPrototypeOf","keys","getMetadata","action","key","forEach","Array","isArray","firstChild","appendChild","nodeName","tag","toUpperCase","children","props","parentNode","replaceChild","Math","min","childNodes","textContent","nodeType","f","removeChild","lastChild","createDocumentFragment","indexOf","insertAdjacentHTML","substring","createTextNode","JSON","stringify","createElementNS","style","cssText","startsWith","dataset","__isAppRunComponent","id","updateElement","route","onpopstate","location","hash","split","slice","concat","__assign","state","view","_app","_history","_history_idx","renderState","component","vdom","element","getElementById","_component","setState","Promise","then","catch","error","history","enable_history","callback","prev","next","add_actions","model","is_global_event","add_action","newState","trim","Function","eval","pluralize","number","label","timeAgo","time","between","Date","now","Number","apprun_1","_","Comment","_a","comment","className","by","text","Comments","item","kids","list","num","items","deleted","dead","map","Item","href","url","title","score","descendants","onclick","back","ListItem","idx","item_link","List","max","type","font-weight","float","margin-right","#","more","localStorage","setItem","getItem","body","target","matches","classList","toggle","nextElementSibling","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","result","done","__generator","verb","v","op","TypeError","y","ops","pop","trys","g","sent","throw","return","Symbol","iterator","_this","Firebase","initializeApp","databaseURL","db","database","ref","fetch","path","child","snapshot","val","fetchItem","_b","all","fetchListItems","_c","firebase"],"mappings":"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","file":"dist/app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):o.apply(e,n),!r.options.once}))},t.prototype.once=function(t,e){this.on(t,e)},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=n(7),i=n(5);e.Component=i.Component;var a=n(4),s=n(2);e.on=s.on,e.update=s.update,e.event=s.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.Fragment=o.Fragment,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return o&&o.rendered&&(s.rendered=o.rendered),s.mount(t,a),s};var u=r.default,c=t||window;c.app&&c.app.start?u=c.app:(c.app=u,\"object\"==typeof document&&document.addEventListener(\"DOMContentLoaded\",function(){return new a.default})),e.default=u,r.default.on(\"debug\",function(t){return 0})}).call(this,n(8))},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=function(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,action:[i.value,n]},r),i}},e.on=function(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:r},n)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(6),o=\"_props\";function i(t){var e=[],n=function(t){null!==t&&void 0!==t&&\"\"!==t&&e.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};return t&&t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return n(t)}):n(t)}),e}e.createElement=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=i(n);if(\"string\"==typeof t)return{tag:t,props:e,children:s};if(void 0===t&&n)return s;if(Object.getPrototypeOf(t).__isAppRunComponent){var u=e&&e.id||\"_\"+t.name+\"_\"+ ++a;return r.default(t,u,e)}return t(e,s)};var a=0,s={};function u(t,e){if(a=0,null!=e&&t)if(Array.isArray(e))d(t,e);else{var n=e;t.firstChild?c(t.firstChild,n):t.appendChild(l(n))}}function c(t,e){console.assert(!!t),function(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}(t,e)?(d(t,e.children),p(t,e.props)):t.parentNode.replaceChild(l(e),t)}function d(t,e){for(var n=Math.min(t.childNodes.length,e.length),r=0;r<n;r++){var o=e[r],i=t.childNodes[r];if(\"string\"==typeof o)i.textContent!==o&&(3===i.nodeType?i.textContent=o:t.replaceChild(f(o),i));else{var a=o.props&&o.props.key;if(a)if(i.key===a)c(t.childNodes[r],o);else{var u=a&&s[a];u?(t.replaceChild(u,i),t.appendChild(i),c(t.childNodes[r],o)):(t.appendChild(l(o),i),c(t.childNodes[r],o))}else c(t.childNodes[r],o)}}for(var d=t.childNodes.length;d>n;)t.removeChild(t.lastChild),d--;if(e.length>n){var p=document.createDocumentFragment();for(r=n;r<e.length;r++)p.appendChild(l(e[r]));t.appendChild(p)}}function f(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function l(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return f(t);if(!t.tag)return f(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return p(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(l(t))}),e}function p(t,e){console.assert(!!t);var n=t[o]||{};for(var r in e=function(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}(n,e),t[o]=e,e){var i=e[r];if(n[r]!==i)if(\"style\"===r)for(var a in t.style.cssText&&(t.style.cssText=\"\"),i)t.style[a]!==i[a]&&(t.style[a]=i[a]);else if(r.startsWith(\"data-\")){var u=r.substring(5);t.dataset[u]!==i&&(t.dataset[u]=i)}else t[r]!==i&&(t[r]=i),\"key\"===r&&i&&(s[i]=t)}}e.updateElement=u,e.render=u,e.Fragment=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i(e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=\"//\";r.default.on(\"//\",function(t){}),r.default.on(\"#\",function(t){});var i=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],i=e.slice(1);r.default.run.apply(r.default,[n].concat(i)),r.default.run.apply(r.default,[o,n].concat(i))}else r.default.run(t),r.default.run(o,t)},t}();e.default=i},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i=n(2),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))},this.render=function(){return a.view(a.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t);o.default.run(\"debug\",{component:this,state:t,vdom:e||\"[vdom is null - no render]\"});var n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){this.on(e.history.prev||\"history-prev\",function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0}),this.on(e.history.next||\"history-next\",function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1})}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=e.apply(void 0,[r.state].concat(i));o.default.run(\"debug\",{component:r,event:t,e:i,state:r.state,newState:s,options:n}),r.setState(s,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(n)):(e=this._app).run.apply(e,[t].concat(n))},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t.__isAppRunComponent=!0,t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o={};e.default=function(t,e,n){var i=o[e]?o[e]:o[e]=new t(n).mount(e);return r.default.createElement(\"div\",{id:e},i.render&&i.render())}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(3);e.createElement=r.createElement,e.Fragment=r.Fragment,e.render=function(t,e){console.assert(!!t),r.updateElement(t,e)}},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n}])});\n//# sourceMappingURL=apprun.js.map\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\n__webpack_require__(2);\r\napprun_1.default.on('//', function (_) { });\r\nvar page_size = 30;\r\nvar state = {};\r\nvar Comment = function (_a) {\r\n    var comment = _a.comment;\r\n    if (!comment)\r\n        return;\r\n    return apprun_1.default.createElement(\"li\", { className: 'comment' },\r\n        apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n            apprun_1.default.createElement(\"span\", null,\r\n                \"by \",\r\n                comment.by),\r\n            \" |\\u00A0\",\r\n            apprun_1.default.createElement(\"span\", null,\r\n                timeAgo(comment.time),\r\n                \" ago\")),\r\n        apprun_1.default.createElement(\"div\", { className: 'text' }, \"_html:\" + comment.text),\r\n        apprun_1.default.createElement(Comments, { item: comment }));\r\n};\r\nvar Comments = function (_a) {\r\n    var item = _a.item;\r\n    if (!item || !item.kids)\r\n        return;\r\n    var list = item.kids;\r\n    var num = item.kids && item.kids.filter(function (items) { return !item.deleted && !item.dead; }).length;\r\n    return apprun_1.default.createElement(\"div\", null,\r\n        num && apprun_1.default.createElement(\"div\", { className: 'toggle' },\r\n            pluralize(num, ' comment'),\r\n            \" \"),\r\n        apprun_1.default.createElement(\"ul\", { className: 'comment-list' },\r\n            \" \",\r\n            list.filter(function (item) { return !item.deleted; })\r\n                .map(function (item) { return apprun_1.default.createElement(Comment, { comment: item }); })));\r\n};\r\nvar Item = function (_a) {\r\n    var item = _a.item;\r\n    if (!item)\r\n        return;\r\n    return apprun_1.default.createElement(\"div\", { className: 'story' },\r\n        apprun_1.default.createElement(\"h4\", null,\r\n            apprun_1.default.createElement(\"a\", { href: item.url }, item.title)),\r\n        (item.text) && apprun_1.default.createElement(\"div\", { className: 'text' }, \"_html:\" + item.text),\r\n        apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n            apprun_1.default.createElement(\"span\", null, pluralize(item.score, ' point')),\r\n            \" |\\u00A0\",\r\n            apprun_1.default.createElement(\"span\", null,\r\n                \"by \",\r\n                item.by),\r\n            \" |\\u00A0\",\r\n            apprun_1.default.createElement(\"span\", null,\r\n                timeAgo(item.time),\r\n                \" ago\"),\r\n            \" |\\u00A0\",\r\n            apprun_1.default.createElement(\"span\", null,\r\n                pluralize(item.descendants, ' comment'),\r\n                \" (in total)  |\\u00A0\"),\r\n            apprun_1.default.createElement(\"span\", null,\r\n                apprun_1.default.createElement(\"a\", { onclick: function () { return history.back(); } }, \"back\"))),\r\n        apprun_1.default.createElement(Comments, { item: item }));\r\n};\r\nvar ListItem = function (_a) {\r\n    var item = _a.item, idx = _a.idx;\r\n    if (!item)\r\n        return;\r\n    var item_link = \"#/item/\" + item.id;\r\n    return apprun_1.default.createElement(\"li\", null,\r\n        apprun_1.default.createElement(\"div\", { className: 'score' }, item.score),\r\n        apprun_1.default.createElement(\"div\", null,\r\n            apprun_1.default.createElement(\"a\", { href: item.url || item_link }, item.title)),\r\n        apprun_1.default.createElement(\"div\", { className: 'meta' },\r\n            apprun_1.default.createElement(\"span\", null,\r\n                \"by \",\r\n                item.by),\r\n            \" |\\u00A0\",\r\n            apprun_1.default.createElement(\"span\", null,\r\n                timeAgo(item.time),\r\n                \" ago\"),\r\n            \" |\\u00A0\",\r\n            apprun_1.default.createElement(\"span\", null,\r\n                apprun_1.default.createElement(\"a\", { href: \"\" + item_link }, pluralize(item.descendants, ' comment')))));\r\n};\r\nvar List = function (_a) {\r\n    var list = _a.list;\r\n    if (!list || !list.items)\r\n        return;\r\n    return apprun_1.default.createElement(\"div\", null,\r\n        apprun_1.default.createElement(\"ul\", { className: 'story-list' },\r\n            \" \",\r\n            list.items.filter(function (item, i) { return i >= list.min && i < list.max && (typeof item !== 'number'); })\r\n                .map(function (item) { return apprun_1.default.createElement(ListItem, { item: item, idx: list.items.indexOf(item) + 1 }); })),\r\n        apprun_1.default.createElement(\"div\", { className: 'more' },\r\n            apprun_1.default.createElement(\"span\", null,\r\n                list.min + 1,\r\n                \" - \",\r\n                list.max,\r\n                \" (\",\r\n                list.items.length,\r\n                \") \\u00A0\"),\r\n            list.items && list.max < list.items.length && apprun_1.default.createElement(\"a\", { onclick: function () { return apprun_1.default.run('more'); } }, \" |\\u00A0 More ...\")));\r\n};\r\nvar view = function (state) {\r\n    if (state instanceof Promise)\r\n        return;\r\n    var style = function (type) { return ({ 'font-weight': type === state.type ? 'bold' : 'normal' }); };\r\n    return apprun_1.default.createElement(\"div\", { className: \"hn \" + state.type },\r\n        apprun_1.default.createElement(\"div\", { className: 'header' },\r\n            apprun_1.default.createElement(\"div\", { className: 'inner' },\r\n                apprun_1.default.createElement(\"div\", { style: { 'float': 'left' } },\r\n                    apprun_1.default.createElement(\"span\", { style: { 'margin-right': '20px' } },\r\n                        apprun_1.default.createElement(\"a\", { href: 'https://github.com/yysun/apprun' }, \"AppRun\"),\r\n                        \" \\u2764\\u00A0\",\r\n                        apprun_1.default.createElement(\"a\", { href: 'https://news.ycombinator.com' }, \"HN\")),\r\n                    apprun_1.default.createElement(\"a\", { style: style('top'), href: \"#/top\" }, \"Top\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"a\", { style: style('new'), href: \"#/new\" }, \"New\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"a\", { style: style('best'), href: \"#/best\" }, \"Best\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"a\", { style: style('show'), href: \"#/show\" }, \"Show\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"a\", { style: style('ask'), href: \"#/ask\" }, \"Ask\"),\r\n                    \" |\\u00A0\",\r\n                    apprun_1.default.createElement(\"a\", { style: style('job'), href: \"#/job\" }, \"Jobs\")))),\r\n        apprun_1.default.createElement(\"div\", { className: 'main' },\r\n            apprun_1.default.createElement(\"div\", { className: 'inner' }, state.type === 'item' ?\r\n                apprun_1.default.createElement(Item, { item: state[state.id] }) :\r\n                apprun_1.default.createElement(List, { list: state[state.type] }))),\r\n        apprun_1.default.createElement(\"div\", { className: 'footer' },\r\n            apprun_1.default.createElement(\"div\", { className: 'inner' },\r\n                \"Powered by \",\r\n                apprun_1.default.createElement(\"a\", { href: 'https://github.com/yysun/apprun' }, \"AppRun\"),\r\n                \", Source code: \",\r\n                apprun_1.default.createElement(\"a\", { href: 'https://github.com/yysun/apprun-hn' }, \"Github\"))));\r\n};\r\nvar update = {\r\n    '#': function (state, type, id) {\r\n        type = type || state.type || 'top';\r\n        state.type = type;\r\n        state[type] = state[type] || { min: 0, max: page_size, items: [] };\r\n        state.id = id;\r\n        type === 'item' ?\r\n            apprun_1.default.run('get-item', id, state) :\r\n            apprun_1.default.run('get-list', type, state[type]);\r\n    },\r\n    'render': function (state) { return state; },\r\n    'more': function (state) {\r\n        var list = state[state.type];\r\n        list.max = Math.min(list.max + page_size, list.items.length);\r\n        apprun_1.default.run('get-list', state.type, list);\r\n    },\r\n};\r\nvar STORAGE_KEY = 'hn';\r\nvar rendered = function (state) { return localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); };\r\nvar stored = localStorage.getItem(STORAGE_KEY);\r\napprun_1.default.start('my-app', state, view, update, { rendered: rendered });\r\ndocument.body.addEventListener('click', function (e) {\r\n    var t = e.target;\r\n    if (t.matches('.toggle')) {\r\n        t.classList.toggle('closed');\r\n        t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n    }\r\n});\r\nfunction pluralize(number, label) {\r\n    if (!number)\r\n        number = 0;\r\n    return (number === 1) ? number + label : number + label + 's';\r\n}\r\nfunction timeAgo(time) {\r\n    var between = Date.now() / 1000 - Number(time);\r\n    if (between < 3600) {\r\n        return pluralize(~~(between / 60), ' minute');\r\n    }\r\n    else if (between < 86400) {\r\n        return pluralize(~~(between / 3600), ' hour');\r\n    }\r\n    else {\r\n        return pluralize(~~(between / 86400), ' day');\r\n    }\r\n}\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar Firebase = __webpack_require__(3);\r\nFirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nvar db = Firebase.database().ref('/v0');\r\nvar fetch = function (path) { return __awaiter(_this, void 0, void 0, function () {\r\n    var ref;\r\n    return __generator(this, function (_a) {\r\n        ref = db.child(path);\r\n        return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                ref.once('value', function (snapshot) { return resolve(snapshot.val()); }, reject);\r\n            })];\r\n    });\r\n}); };\r\nvar fetchItem = function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n    var _this = this;\r\n    var item, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0: return [4 /*yield*/, fetch(\"item/\" + id)];\r\n            case 1:\r\n                item = _b.sent();\r\n                if (!(item && item.kids)) return [3 /*break*/, 3];\r\n                _a = item;\r\n                return [4 /*yield*/, Promise.all(item.kids.map(function (item) { return __awaiter(_this, void 0, void 0, function () {\r\n                        var _a;\r\n                        return __generator(this, function (_b) {\r\n                            switch (_b.label) {\r\n                                case 0:\r\n                                    if (!(typeof item === 'number')) return [3 /*break*/, 2];\r\n                                    return [4 /*yield*/, fetchItem(item)];\r\n                                case 1:\r\n                                    _a = _b.sent();\r\n                                    return [3 /*break*/, 3];\r\n                                case 2:\r\n                                    _a = item;\r\n                                    _b.label = 3;\r\n                                case 3: return [2 /*return*/, _a];\r\n                            }\r\n                        });\r\n                    }); }))];\r\n            case 2:\r\n                _a.kids = _b.sent();\r\n                _b.label = 3;\r\n            case 3: return [2 /*return*/, item];\r\n        }\r\n    });\r\n}); };\r\napprun_1.default.on('get-list', function (type, list) {\r\n    var fetchListItems = function (_a) {\r\n        var items = _a.items, min = _a.min, max = _a.max;\r\n        return __awaiter(_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, Promise.all(items.map(function (id, idx) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _a, _b;\r\n                            return __generator(this, function (_c) {\r\n                                switch (_c.label) {\r\n                                    case 0:\r\n                                        if (!(idx >= min && idx < max && (typeof id === 'number'))) return [3 /*break*/, 2];\r\n                                        _a = items;\r\n                                        _b = idx;\r\n                                        return [4 /*yield*/, fetch(\"item/\" + id)];\r\n                                    case 1:\r\n                                        _a[_b] = _c.sent();\r\n                                        _c.label = 2;\r\n                                    case 2: return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                    case 1:\r\n                        _b.sent();\r\n                        apprun_1.default.run('render');\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    if (list.items.length)\r\n        return fetchListItems(list);\r\n    var ref = db.child(type + \"stories\");\r\n    ref.on('value', function (snapshot) { return __awaiter(_this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            list.items = snapshot.val();\r\n            fetchListItems(list);\r\n            return [2 /*return*/];\r\n        });\r\n    }); });\r\n});\r\napprun_1.default.on('get-item', function (id, state) {\r\n    if (!id)\r\n        return;\r\n    var ref = db.child(\"item/\" + id);\r\n    ref.on('value', function (snapshot) { return __awaiter(_this, void 0, void 0, function () {\r\n        var _this = this;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    state[id] = snapshot.val();\r\n                    if (!state[id].kids) return [3 /*break*/, 2];\r\n                    _a = state[id];\r\n                    return [4 /*yield*/, Promise.all(state[id].kids.map(function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _a;\r\n                            return __generator(this, function (_b) {\r\n                                switch (_b.label) {\r\n                                    case 0:\r\n                                        if (!(typeof id === 'number')) return [3 /*break*/, 2];\r\n                                        return [4 /*yield*/, fetchItem(id)];\r\n                                    case 1:\r\n                                        _a = _b.sent();\r\n                                        return [3 /*break*/, 3];\r\n                                    case 2:\r\n                                        _a = id;\r\n                                        _b.label = 3;\r\n                                    case 3: return [2 /*return*/, _a];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 1:\r\n                    _a.kids = _b.sent();\r\n                    _b.label = 2;\r\n                case 2:\r\n                    apprun_1.default.run('render');\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n});\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = firebase;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3ea64020ac0aca98ad3f","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):o.apply(e,n),!r.options.once}))},t.prototype.once=function(t,e){this.on(t,e)},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=n(7),i=n(5);e.Component=i.Component;var a=n(4),s=n(2);e.on=s.on,e.update=s.update,e.event=s.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.Fragment=o.Fragment,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return o&&o.rendered&&(s.rendered=o.rendered),s.mount(t,a),s};var u=r.default,c=t||window;c.app&&c.app.start?u=c.app:(c.app=u,\"object\"==typeof document&&document.addEventListener(\"DOMContentLoaded\",function(){return new a.default})),e.default=u,r.default.on(\"debug\",function(t){return 0})}).call(this,n(8))},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=function(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,action:[i.value,n]},r),i}},e.on=function(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:r},n)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(6),o=\"_props\";function i(t){var e=[],n=function(t){null!==t&&void 0!==t&&\"\"!==t&&e.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};return t&&t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return n(t)}):n(t)}),e}e.createElement=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=i(n);if(\"string\"==typeof t)return{tag:t,props:e,children:s};if(void 0===t&&n)return s;if(Object.getPrototypeOf(t).__isAppRunComponent){var u=e&&e.id||\"_\"+t.name+\"_\"+ ++a;return r.default(t,u,e)}return t(e,s)};var a=0,s={};function u(t,e){if(a=0,null!=e&&t)if(Array.isArray(e))d(t,e);else{var n=e;t.firstChild?c(t.firstChild,n):t.appendChild(l(n))}}function c(t,e){console.assert(!!t),function(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}(t,e)?(d(t,e.children),p(t,e.props)):t.parentNode.replaceChild(l(e),t)}function d(t,e){for(var n=Math.min(t.childNodes.length,e.length),r=0;r<n;r++){var o=e[r],i=t.childNodes[r];if(\"string\"==typeof o)i.textContent!==o&&(3===i.nodeType?i.textContent=o:t.replaceChild(f(o),i));else{var a=o.props&&o.props.key;if(a)if(i.key===a)c(t.childNodes[r],o);else{var u=a&&s[a];u?(t.replaceChild(u,i),t.appendChild(i),c(t.childNodes[r],o)):(t.appendChild(l(o),i),c(t.childNodes[r],o))}else c(t.childNodes[r],o)}}for(var d=t.childNodes.length;d>n;)t.removeChild(t.lastChild),d--;if(e.length>n){var p=document.createDocumentFragment();for(r=n;r<e.length;r++)p.appendChild(l(e[r]));t.appendChild(p)}}function f(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function l(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return f(t);if(!t.tag)return f(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return p(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(l(t))}),e}function p(t,e){console.assert(!!t);var n=t[o]||{};for(var r in e=function(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}(n,e),t[o]=e,e){var i=e[r];if(n[r]!==i)if(\"style\"===r)for(var a in t.style.cssText&&(t.style.cssText=\"\"),i)t.style[a]!==i[a]&&(t.style[a]=i[a]);else if(r.startsWith(\"data-\")){var u=r.substring(5);t.dataset[u]!==i&&(t.dataset[u]=i)}else t[r]!==i&&(t[r]=i),\"key\"===r&&i&&(s[i]=t)}}e.updateElement=u,e.render=u,e.Fragment=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i(e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=\"//\";r.default.on(\"//\",function(t){}),r.default.on(\"#\",function(t){});var i=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],i=e.slice(1);r.default.run.apply(r.default,[n].concat(i)),r.default.run.apply(r.default,[o,n].concat(i))}else r.default.run(t),r.default.run(o,t)},t}();e.default=i},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i=n(2),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))},this.render=function(){return a.view(a.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t);o.default.run(\"debug\",{component:this,state:t,vdom:e||\"[vdom is null - no render]\"});var n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){this.on(e.history.prev||\"history-prev\",function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0}),this.on(e.history.next||\"history-next\",function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1})}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=e.apply(void 0,[r.state].concat(i));o.default.run(\"debug\",{component:r,event:t,e:i,state:r.state,newState:s,options:n}),r.setState(s,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(n)):(e=this._app).run.apply(e,[t].concat(n))},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t.__isAppRunComponent=!0,t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o={};e.default=function(t,e,n){var i=o[e]?o[e]:o[e]=new t(n).mount(e);return r.default.createElement(\"div\",{id:e},i.render&&i.render())}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(3);e.createElement=r.createElement,e.Fragment=r.Fragment,e.render=function(t,e){console.assert(!!t),r.updateElement(t,e)}},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n}])});\n//# sourceMappingURL=apprun.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/apprun/dist/apprun.js\n// module id = 0\n// module chunks = 0","import app from 'apprun';\r\nimport './api';\r\n\r\napp.on('//', _ => { });\r\nconst page_size = 30;\r\n\r\nconst state = {};\r\n\r\n\r\nconst Comment = ({ comment }) => {\r\n  if (!comment) return;\r\n  return <li className='comment'>\r\n    <div className='meta'>\r\n      <span>by {comment.by}</span> |&nbsp;\r\n      <span>{timeAgo(comment.time)} ago</span>\r\n    </div>\r\n    <div className='text'>{`_html:${comment.text}`}</div>\r\n    <Comments item={comment} />\r\n  </li>\r\n}\r\n\r\nconst Comments = ({ item }) => {\r\n  if (!item || !item.kids) return;\r\n  const list = item.kids;\r\n  const num = item.kids && item.kids.filter(items => !item.deleted && !item.dead).length;\r\n  return <div>\r\n    {num && <div className='toggle'>{pluralize(num, ' comment')} </div>}\r\n    <ul className='comment-list'> {\r\n      list.filter(item => !item.deleted)\r\n        .map(item => <Comment comment={item} />)\r\n    }\r\n    </ul>\r\n  </div>;\r\n}\r\n\r\nconst Item = ({ item }) => {\r\n  if (!item) return;\r\n  return <div className='story'>\r\n    <h4><a href={item.url}>{item.title}</a></h4>\r\n    {(item.text) && <div className='text'>{`_html:${item.text}`}</div>}\r\n    <div className='meta'>\r\n      <span>{pluralize(item.score, ' point')}</span> |&nbsp;\r\n        <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span>{pluralize(item.descendants, ' comment')} (in total)  |&nbsp;</span>\r\n      <span><a onclick={() => history.back()}>back</a></span>\r\n    </div>\r\n    <Comments item={item} />\r\n  </div>\r\n}\r\n\r\nconst ListItem = ({ item, idx }) => {\r\n  if (!item) return;\r\n  const item_link = `#/item/${item.id}`;\r\n  return <li>\r\n    <div className={'score'}>{item.score}</div>\r\n    <div><a href={item.url || item_link}>{item.title}</a></div>\r\n    <div className='meta'>\r\n      <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span><a href={`${item_link}`} >{pluralize(item.descendants, ' comment')}</a></span>\r\n    </div>\r\n  </li>\r\n}\r\n\r\nconst List = ({ list }) => {\r\n  if (!list || !list.items) return;\r\n  return <div>\r\n    <ul className='story-list'> {\r\n      list.items.filter((item, i) => i >= list.min && i < list.max && (typeof item !== 'number'))\r\n        .map(item => <ListItem item={item} idx={list.items.indexOf(item) + 1} />)\r\n    }\r\n    </ul>\r\n    <div className='more'>\r\n      <span>{list.min + 1} - {list.max} ({list.items.length}) &nbsp;</span>\r\n      {list.items && list.max < list.items.length && <a onclick={() => app.run('more')}> |&nbsp; More ...</a>}\r\n    </div>\r\n  </div>;\r\n}\r\n\r\nconst view = state => {\r\n  if (state instanceof Promise) return;\r\n  const style = (type) => ({ 'font-weight': type === state.type ? 'bold' : 'normal' });\r\n  return <div className={`hn ${state.type}`}>\r\n    <div className='header'>\r\n      <div className='inner'>\r\n        <div style={{ 'float': 'left' }}>\r\n          <span style={{ 'margin-right': '20px' }}>\r\n            <a href='https://github.com/yysun/apprun'>AppRun</a> &#10084;&nbsp;\r\n            <a href='https://news.ycombinator.com'>HN</a>\r\n          </span>\r\n          <a style={style('top')} href={`#/top`}>Top</a> |&nbsp;\r\n          <a style={style('new')} href={`#/new`}>New</a> |&nbsp;\r\n          <a style={style('best')} href={`#/best`}>Best</a> |&nbsp;\r\n          <a style={style('show')} href={`#/show`}>Show</a> |&nbsp;\r\n          <a style={style('ask')} href={`#/ask`}>Ask</a> |&nbsp;\r\n          <a style={style('job')} href={`#/job`}>Jobs</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className='main'>\r\n      <div className='inner'>\r\n        {state.type === 'item' ?\r\n          <Item item={state[state.id]} /> :\r\n          <List list={state[state.type]} />}\r\n      </div>\r\n    </div>\r\n    <div className='footer'>\r\n      <div className='inner'>\r\n        Powered by <a href='https://github.com/yysun/apprun'>AppRun</a>,\r\n        Source code: <a href='https://github.com/yysun/apprun-hn'>Github</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst update = {\r\n  '#': (state, type, id) => {\r\n    type = type || state.type || 'top';\r\n    state.type = type;\r\n    state[type] = state[type] || { min: 0, max: page_size, items: [] };\r\n    state.id = id;\r\n    type === 'item' ?\r\n      app.run('get-item', id, state) :\r\n      app.run('get-list', type, state[type]);\r\n  },\r\n  'render': state => state,\r\n  'more': state => {\r\n    const list = state[state.type];\r\n    list.max = Math.min(list.max + page_size, list.items.length)\r\n    app.run('get-list', state.type, list);\r\n  },\r\n}\r\n\r\nconst STORAGE_KEY = 'hn';\r\nconst rendered = state => localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\r\nconst stored = localStorage.getItem(STORAGE_KEY)\r\n\r\napp.start('my-app', state, view, update, { rendered });\r\n\r\ndocument.body.addEventListener('click', e => {\r\n  const t = e.target as HTMLElement;\r\n  if (t.matches('.toggle')) {\r\n    t.classList.toggle('closed');\r\n    t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n  }\r\n});\r\n\r\nfunction pluralize(number, label) {\r\n  if (!number) number = 0;\r\n  return (number === 1) ? number + label : number + label + 's'\r\n}\r\n\r\nfunction timeAgo(time) {\r\n  const between = Date.now() / 1000 - Number(time)\r\n  if (between < 3600) {\r\n    return pluralize(~~(between / 60), ' minute')\r\n  } else if (between < 86400) {\r\n    return pluralize(~~(between / 3600), ' hour')\r\n  } else {\r\n    return pluralize(~~(between / 86400), ' day')\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/hacker-news.tsx","import app from 'apprun';\r\nimport Firebase = require('firebase');\r\n\r\nFirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nconst db = Firebase.database().ref('/v0');\r\n\r\nconst fetch = async (path): Promise<any> => {\r\n  const ref = db.child(path);\r\n  return new Promise((resolve, reject) => {\r\n    ref.once('value', snapshot => resolve(snapshot.val()), reject);\r\n  })\r\n}\r\n\r\nconst fetchItem = async (id): Promise<any> => {\r\n  const item = await fetch(`item/${id}`);\r\n  if (item && item.kids) item.kids = await Promise.all(item.kids.map(async (item) => {\r\n    return typeof item === 'number' ?\r\n      await fetchItem(item) : item\r\n  }));\r\n  return item;\r\n}\r\n\r\napp.on('get-list', (type, list) => {\r\n  const fetchListItems = async ({ items, min, max }) => {\r\n    await Promise.all(items.map(async (id, idx) => {\r\n      if (idx >= min && idx < max && (typeof id === 'number')) {\r\n        items[idx] = await fetch(`item/${id}`)\r\n      }\r\n    }));\r\n    app.run('render');\r\n  }\r\n  if (list.items.length) return fetchListItems(list);\r\n  const ref = db.child(`${type}stories`);\r\n  ref.on('value', async snapshot => {\r\n    list.items = snapshot.val();\r\n    fetchListItems(list);\r\n  })\r\n});\r\n\r\napp.on('get-item', (id, state) => {\r\n  if (!id) return;\r\n  const ref = db.child(`item/${id}`);\r\n  ref.on('value', async snapshot => {\r\n    state[id] = snapshot.val();\r\n    if (state[id].kids) {\r\n      state[id].kids = await Promise.all(state[id].kids.map(async (id) => {\r\n        return typeof id === 'number' ?\r\n          await fetchItem(id) : id\r\n      }));\r\n    }\r\n    app.run('render');\r\n  })\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api.ts","module.exports = firebase;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"firebase\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}